---
import { Image } from "astro:assets";
import MainLogo from "../assets/Logo_Main.webp";
import { useTranslations, ui } from "../i18n/ui";

export interface Props {
  lang: keyof typeof ui;
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const navLinks = [
  { href: `#WhoWeAre`, label: t("nav.who_we_are") },
  { href: `#Services`, label: t("nav.services") },
  { href: `#OurPartners`, label: t("nav.partners") },
  { href: `#ContactUs`, label: t("nav.contact") },
];
---

<!-- Navbar -->
<nav
  class="lg:px-12 flex z-50 animate-on-scroll animate bg-[#020408]/80 w-full border-white/5 border-b pt-6 pr-6 pb-6 pl-6 relative backdrop-blur-md items-center justify-between"
>
  <div class="flex gap-12 gap-x-12 gap-y-12 items-center">
    <!-- Logo -->
    <a
      href={`/digital-nexus-landing/${lang}/`}
      class="flex items-center gap-3 text-white hover:text-[#D3D3D3] transition-colors group"
    >
      <div
        class="group-hover:bg-[#D3D3D3]/20 transition-colors group-hover:border-[#D3D3D3]/50 bg-white/5 border-white/10 border rounded-lg pt-1.5 pr-1.5 pb-1.5 pl-1.5"
      >
        <Image
          src={MainLogo}
          alt="DigitALL Nexus Logo"
          class="h-8 w-8"
          loading="eager"
          fetchpriority="high"
        />
      </div>
      <span class="font-bold tracking-tight md:text-md lg:text-lg text-white"
        >DIGITALL NEXUS</span
      >
    </a>

    <div class="hidden h-5 w-px bg-white/10"></div>

    <!-- Mobile menu button -->
    <button
      id="nav-toggle"
      type="button"
      class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-slate-400 hover:text-white focus:outline-none"
      aria-controls="mobile-menu"
      aria-expanded="false"
      aria-label="Open menu"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 8h16M4 16h16"></path>
      </svg>
    </button>

    {navLinks.map((link) => (
      <a
        href={link.href}
        class="hidden md:flex gap-2 hover:text-white transition-colors group gap-x-2 gap-y-2 items-center text-sm font-medium text-slate-400"
      >
        {link.label}
      </a>
    ))}
  </div>

  <!-- Language Switcher -->
  <div class="hidden md:flex items-center gap-2">
    <a href="/digital-nexus-landing/ru/" class={`text-sm font-medium ${lang === 'ru' ? 'text-white' : 'text-slate-400 hover:text-white'}`}>RU</a>
    <span class="text-slate-600">/</span>
    <a href="/digital-nexus-landing/en/" class={`text-sm font-medium ${lang === 'en' ? 'text-white' : 'text-slate-400 hover:text-white'}`}>EN</a>
    <span class="text-slate-600">/</span>
    <a href="/digital-nexus-landing/am/" class={`text-sm font-medium ${lang === 'am' ? 'text-white' : 'text-slate-400 hover:text-white'}`}>AM</a>
  </div>
</nav>

<!-- Mobile Menu -->
<div
  id="mobile-menu"
  role="menu"
  aria-hidden="true"
  class="hidden md:hidden absolute left-0 right-0 bg-[#020408] border-t border-white/5 py-4 z-50"
>
  <div class="flex flex-col items-center gap-3">
    {navLinks.map((link) => (
      <a href={link.href} class="text-slate-300">{link.label}</a>
    ))}
    <div class="flex items-center gap-4 mt-4 pt-4 border-t border-white/10 w-full justify-center">
      <a href="/digital-nexus-landing/ru/" class={`text-sm font-medium ${lang === 'ru' ? 'text-white' : 'text-slate-400'}`}>RU</a>
      <a href="/digital-nexus-landing/en/" class={`text-sm font-medium ${lang === 'en' ? 'text-white' : 'text-slate-400'}`}>EN</a>
      <a href="/digital-nexus-landing/am/" class={`text-sm font-medium ${lang === 'am' ? 'text-white' : 'text-slate-400'}`}>AM</a>
    </div>
  </div>
</div>
